# start a new project
~/pipeline-master/code/code.main/pipeline-new-analysis chipseq-standard ~/projects/SmithLab-Researcher-ChIPSeq-2015-11-12

# set the input file location (fastq.gz files from a sequencing project)
# create symlinks to all the .fastq.gz or .bam, etc., files in 
<project>/inputs/fastq
# make this dir if it doesn't exit
# make subdirectories with sample names, put all files/symlinks for files per sample in each subdir

example; use code like this:
```
ProjDir="/ifs/home/kellys04/projects/SawyersLab_Ping_MSKCC_ChIP-Seq_2016-01-06"
FastqDir="/ifs/home/kellys04/projects/SawyersLab_Ping_MSKCC_ChIP-Seq_2016-01-06/project_notes/fastq-Ping"

for i in $FastqDir/*.fastq.gz; do 
  echo "$i" # symlinked file
  SampleName=$(basename "$i") # get the filename
  SampleName=$(echo $SampleName |  sed -nr 's/^([[:digit:]]++).*/\1/p' ) # first 1-2 digits in the name =  samplename in this case
  mkdir -p $ProjDir/inputs/fastq/$SampleName
  ln -s $(readlink -f $i) $ProjDir/inputs/fastq/$SampleName/$(basename $i)
done
```




# make sample sheet
<project>/inputs/code/create-sample-sheet.tcsh
# example: 
<project>/inputs/code/create-sample-sheet.tcsh hg19 300 # with the genome, fragmentation/library size included
# do manual review and editing of the sample sheet to make sure the groupings, controls, etc., are all correct. 
# make sure the sample sheet is saved back in the orginal location after editing, in TSV format;
# easy way is to do editing in Excel, then copy/paste the whole sheet into nano  or your favorite terminal text editor, save as sample-sheet.tsv




# execute pipeline
<project>/code.main/pipeline-execute

NOTES:
it can be helpful to record your session with
script -f typescript$(date +%F%T)
start this from the project parent dir, or wherever you want the record file to be saved, be sure to type `exit` when you're done


# set read permissions for project directory 
chmod go=u -R ~/projects/ProjDir
chmod go-w -R ~/projects/ProjDir

might need the binaries; 
```
mkdir <project-dir>/code.repo/bin
ln -s /ifs/home/at570/disk1/Resources/Code/pipelines-repo/code/bin/* code.repo/bin/

```

if it broke, clean up with 
code/clean-all
